<br>

## ABP_Player 

IA_Jump(InputAction)에서 스페이스바를 누르면 점프하는 동작을 구현해줄 것이다.
1. 캐릭터가 땅에 착지해 있을 때 키가 눌리면 점프하고 다시 땅에 착지한다.

<br>

#### 1. Player Character 변수 설정
Event Graph에서 PlayerCharacter 변수를 설정해준다. 자세한건 [애니메이션>캐릭터 등 구부리기](뼈%20움직이기(등%20구부리기).md) 를 참고하자.
![[Pasted image 20241003005647.png|400]]

다음으로는 BlueprintThreadSafeUpdateAnimation 에서 (Boolean)IsFalling 변수를 생성해줄 것이다. 이 변수 값은 ACharacter에서 기본으로 제공되는 함수인 IsFalling으로 설정할 것이다. 그래서 Property Access 노드로 BP_Character.CharacterMovement.IsFalling 값을 가져와서 이를 ABP_Player 의 변수 IsFalling 값으로 세팅해준다.
![[Pasted image 20241003005623.png|300]]
![[Pasted image 20241003153417.png]]

<br>

#### 2. State Machine 설정
AnimGraph에서 캐릭터의 점프, 떨어질 때, 착지 할 때에 대한 포즈들을 설정해 줄 것이다.

##### 2.1 LowerBodyLocomotion
땅에 붙어서 행동하는 Idle상태와 Walk 상태를 설정해 줄 것이다. 얘네만 따로 설정해주는 이유는 캐릭터가 점프하고 난 다음에는 LowerBodyLocomotion 포즈중 하나를 취해야 하기 때문이다. 그래서 Idle와 Walk를 묶어서 캐싱해준다.
![[Pasted image 20241003154045.png|500]]
![[Pasted image 20241003154030.png|500]]

##### 2.2 Locomotion
![[Pasted image 20241003154137.png|500]]

<br>

#### AnimGraph 전체 노드
