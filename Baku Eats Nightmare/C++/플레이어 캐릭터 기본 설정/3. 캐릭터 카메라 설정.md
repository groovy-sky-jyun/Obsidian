<br>

#### 캐릭터에 달리는 기본 카메라 설정

기본으로 제공되는 Character 클래스를 상속받을 것이기 때문에 _<span style="color:rgb(193, 173, 240)">부모 클래스를 Character로 지정</span>_ 해준다.
<br>

### <span style="color:rgb(135, 75, 195)">[FPSCharacter.h]</span>
##### <span style="color:rgb(217, 152, 99)">22-23</span> : <mark style="background: #FFB86CA6;">카메라 컴포넌트 정의</mark>

``` c title:FPSCharacter.h  hl:22-23
#pragma once   

#include "CoreMinimal.h"
#include "GameFramework/Character.h"
#include "Camera/CameraComponent.h"
#include "Components/CapsuleComponent.h"
#include "FPSProjectile.h"
#include "FPSCharacter.generated.h"

UCLASS()
class BAKUEATSNIGHTMARES_API AFPSCharacter : public ACharacter
{
   ...

public:   
   // Called every frame 
   virtual void Tick(float DeltaTime) override;
   
	...

	// FPS 카메라
	UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = Camera)
	UCameraComponent* FPSCameraComponent;
   
   ...
```

##### #UPROPERTY
- 변수에 사용하는 매크로이다.
- Editor, Blueprint, 네트워크, 직렬화 등의 속성을 설정할 수 있다. 
 >##### Editor 노출 옵션
 >- #VisibleAnywhere (읽기 o , 수정 x)
 >- #EditAnywhere (읽기 o, 수정 o)
 ><br>
 >##### Bluepint 노출 옵션
 >- #BlueprintReadOnly (블루프린트 읽기 o, 수정 x)
 >- #BlueprintReadWrite (읽기 o, 수정 o)
><br>
 >###### 그 외의 속성
 >- #Category
 >	- 에디터에서 변수를 그룹화 하여 볼 수 있도록 카테고리 지정
 >- #SaveGame 
 >	-  해당 변수가 게임 저장 시 포함됨
 >- #Config 
 >	-  설정 파일 .init 과 연동 
 >	- 게임 설정이나 사용자 정의 설정 등 처리할 때 사용
 >- #BlueprintCallable 
 >	-  함수 포인터를 블루프린트에서 호출할 수 있도록 함
 >- #meta (값의 범위 제한, 슬라이더 UI 등 설정)
 >	- ClampMin / ClampMax : 변수의 최소 / 최대값 설정
 >	- Slider : 에디터에서 슬라이더 UI로 값 조정
 >	- EditCondition : 변수 활성화 / 비활성화
 >- #ExposeOnSpawn
 >	-  객체가 생성될 때 변수의 초기값 설정

##### #UCameraComponent* FPSCameraComponent;
- 1인칭 시점 카메라를 구현할 수 있다.
- 카메라 컴포넌트 클래스로 카메라의 위치, 방향 등을 정의할 수 있다.
- 보통 플레이어 캐릭터의 머리 위치에 설치하어 플레이어가 게임 세상을 직접 바라보는 느낌을 준다.

<br>

#### #UObject 변수는 왜 포인터로 선언하는가?
>대부분 클래스의 경우 언리얼의 #GarbageCollectionSystem 과 관련이 있어 보통 포인터로 선언된다. 
>
>#GarbageCollectionSystem 은 포인터를 추적하여 더이상 참조되지 않는 객체를 자동으로 해제한다. 그러므로써 개발자가 직접 메모리를 할당하고 해제해야하는 부담을 줄여준다.  
>
>#UPROPERTY 매크로를 통해 #GarbageCollectionSystem 이 해당 객체를 추적할 수 있도록 해준다. 만약 #UObject 를 #UPROPERTY 로 선언하지 않으면  #GarbageCollectionSystem 이 해당 객체를 추적하지 않게 되어 메모리 누수 등의 문제가 발생할 수 있다.

<br>

--- 
### <span style="color:rgb(135, 75, 195)">[FPSCharacter.cpp]</span>
#### 플레이어 캐릭터카메라 세팅

``` c title:FPSCharacter.cpp hl:9-16,20-26
#include "FPSCharacter.h"
 
// Sets default values
AFPSCharacter::AFPSCharacter()
{
 	...
	
	// 일인칭 카메라 컴포넌트 생성
	FPSCameraComponent = CreateDefaultSubobject<UCameraComponent>(TEXT("FirstPersonCamera"));
	check(FPSCameraComponent != nullptr);

	// 캡슐 컴포넌트에 카메라 컴포넌트 붙임
	FPSCameraComponent->SetupAttachment(CastChecked<USceneComponent, UCapsuleComponent>(GetCapsuleComponent()));

	// Pawn이 카메라 회전을 제어하도록 설정
	FPSCameraComponent->bUsePawnControlRotation = true;
}

// Called when the game starts or when spawned
void AFPSCharacter::BeginPlay()
{
	Super::BeginPlay();
	
	if (FPSCameraComponent) {
		// 카메라가 플레이어의 눈 약간 위에 위치하도록 조정
		FPSCameraComponent->SetRelativeLocation(FVector(0.0f, 0.0f, 50.0f + BaseEyeHeight));
	}
}
```

##### <span style="color:rgb(217, 152, 99)">9-16</span> : <mark style="background: #FFB86CA6;">1인칭 카메라 컴포넌트 생성 및 설정</mark>
	FPSCameraComponent = CreateDefaultSubobject<UCameraComponent>(TEXT("FirstPersonCamera"));
ㅓㅏㅗㅓ

	check(FPSCameraComponent != nullptr);
ㅂㅈㄷ

	FPSCameraComponent->SetupAttachment(CastChecked<USceneComponent, UCapsuleComponent>(GetCapsuleComponent()));
ㅁㄴㅇㅁㄴ

	FPSCameraComponent->bUsePawnControlRotation = true;
ㅁㄴㅇㅁ


<br>

##### <span style="color:rgb(217, 152, 99)">20-26</span> : <mark style="background: #FFB86CA6;">카메라 위치 조정</mark>

		if (FPSCameraComponent) {
		// 카메라가 플레이어의 눈 약간 위에 위치하도록 조정
			FPSCameraComponent->SetRelativeLocation(FVector(0.0f, 0.0f, 50.0f + BaseEyeHeight));
	}
ㅁㄴㅇㅁㄴ

##### #BeginPlay 와 생성자의 차이가 뭘까?

