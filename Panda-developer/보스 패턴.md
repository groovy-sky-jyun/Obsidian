### 보스 패턴 진행 순서
1. **전투 시작 **
	- 진입 연출 / 전장 봉쇄 / 초기 버프
2. **<mark style="background: #ADCCFFA6;">페이즈</mark> 1 루프**
3. **전환 (인터미션_Intermission)**
	- 목적: 다음 페이즈 준비, 전투 양상 변경
	- 무적, 이동, 재배치
	- 지형, 기믹 변화
	- 소환 등
4. **<mark style="background: #ADCCFFA6;">페이즈</mark> 2, 3, ...**
5. **Enrange**
	- 시간 초과나 HP 임계치 도달 시 발동하는 폭주 상태
	- 속도, 피해, 빈도 등 증가로 난이도 급상승
	- Climax 연출
6. **마무리 (다운 /처치 연출 /드랍)**

#### <mark style="background: #ADCCFFA6;">페이즈 루프</mark>(behavior tree)
1. **상황 파악** 
	- 거리, 각도, 시야, HP, 타이며, 지형 기믹 등 파악
2. **행동 후보 체크**
	- 사거리, 각도, 쿨다운, 사용 제한, 리소스 등 참고
3. **우선순위/가중치 산정**
	- 최근 사용 패널티로 반복 억제
4. <mark style="background: #FFF3A3A6;">**행동 확정**</mark>
	- 회전 Lock, 이동 Lock, 슈퍼아머(기술을 끝까지 수행) 등 Lock 적용
5. **실행 후 쿨다운 등록 + 최소 공백 확보 **
	- 스팸 방지 위함
		- AI가 강력 기술을 연속/무한 반복 선택하는 현상 방지

#### <mark style="background: #FFF3A3A6;">행동 실행</mark>
1. **Startup : 전조** 
	- 모션, 이펙트, 사운드로 타이밍, 방향 힌트
	- 회전 고정, 추적 여부 결정
2. **Active : 판정**
	- 히트박스 ON
		- 공격 판정을 가지는 보이지 않는 충돌 영역
		- 1회만 적용하여 중복 타격 방지
	- 데미지, 경직, 상태 이상 등 적용
		- 히트박스에 타격을 받은 순간 타격 종류에 따라 뒤로 밀림, 경직, 모션 끊김 등 적용
		- 상대방에게 타격을 준 순간 타격 종류에 따라 데미지 입힘(또는 상태 이상 등을 건다.)
	- 시간 기반/ Anim notify로 타이밍 제어
		- 예) 몇 초 후 히트박스 on /Active off
3. **Recovery : 후딜/빈틈** 
	- 반격 창 제공
	- 히트박스 OFF
	- 다음 행동까지 텀 확보(skill cooldown 적용 등)

---
### 보스 패턴 구현 구조
#### Behavior Tree + FSM
BT로는 행동 선택(상위 의사결정)을 하고, FSM으로는 행동 실행 파이프라인(하위 액션 내부)을 구현할 것이다.

BT로 행동을 선택할 때, 상황, 우선순위 등을 바탕으로 즉시 재평가할 수 있다. 지속적인 환경 변화 감지를 통해 즉시 행동을 재선택할 수 있다. 

FSM로 행동을 실행할 때, 제약과 타이밍을 고려해서 실행핸다.
