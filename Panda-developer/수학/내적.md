### 개념
두 벡터의 <span style="color:rgb(255, 207, 61)">방향 일치도</span>와 <span style="color:rgb(255, 207, 61)">크기</span>를 스칼라값으로 나타낸 것을 내적이라 한다.
#### 공식
`|a|·|b|·cosθ`

---
### 방향 일치도
게임에서는 두 벡터의 크기는 필요없고 <span style="color:rgb(255, 207, 61)">방향 정보만 필요</span>한 경우가 많다. 하여, 이때는 두 벡터의 크기가 1인 <span style="color:rgb(255, 207, 61)">단위벡터</span>로 변환하여 내적값을 구한다. 

그럼 내적을 통해 크기를 제외한 두 벡터의 방향 일치도를 예측할 수 있다.

##### 벡터 방향에 따른 내적 값
1. 두 벡터의 시작 점을 맞춘다.
	- 두 벡터는 길이가 1인 단위 벡터이다.
2. 한 벡터에서 다른 벡터에 정사영을 내린다.
3. <span style="color:rgb(255, 207, 61)">정사영의 길이</span>가 <span style="color:rgb(255, 207, 61)">내적의 결과 값</span>이다. <span style="color:rgb(125, 125, 125)">(단위 벡터인 경우)</span>
	- `cosθ`값과 같다.

![[Group 1 1.png|벡터 방향에 따른 내적 값]]
위 그림은 벡터A에서 벡터B로 정사영을 내렸을 때 정사영의 길이를 빨간색으로 나타내었다.

>**내적으로 방향 예측**
>- `-1` : 수평이고 서로 반대 방향이다.
>- `음수` : 수평하진 않지만, 서로 반대 방향이다.
>- `0` : 두 벡터는 서로 수직이다.
>- `양수` : 수평하진 않지만, 서로 같은 방향이다.
>- `1` : 수평이고 서로 같은 방향이다.

---
### 내적과 물리학
#### 물리학의 일(W)
물리학에서의 일은 다음과 같은 규칙성을 가진다.
- 힘의 크기가 클 수록 일의 양이 커진다.
- 이동 거리가 클 수록 일의 양이 커진다.
- 힘의 방향이 이동방향과 일치할 수록 일의 양이 커진다.

하여 힘의 크기, 변위, 방향의 일치성을 고려하여 일을 구할 수 있다.

힘의 크기를 위치이동 방향과 동일하게 변환해주기 위해서 `F x cosθ`를 사용한다. 변환한 힘의 크기와 변위를 곱하는 공식은 다음과 같다.

`W = S x F x cosθ`

![[Group 7.png|물리학 일(W)|500]]
##### 내적과 일(W)의 연관성
물체를 힘줘서 민다고 생각해보자.
미는 힘과 물체가 힘에 의해 이동한 거리가 생길 것이다.
이를 `힘 벡터`, `변위 벡터`로 만들면 내적과 같아진다.

`힘 벡터의 방향을 변위 벡터와 일치하게 변환`한 후, 그 크기와 `변위 벡터 크기`를 곱해주면 `일`을 구할 수 있다

이처럼 <span style="color:rgb(255, 207, 61)">내적의 크기와 방향을 종합적으로 고려한 연산</span>이 `일`이란 것을 알 수 있다.


---
### 게임에서 사용 목적
#### <mark style="background: #D2B3FFA6;">1. 앞/뒤 판정</mark>
좌/우(수직)의 경우 값이 0으로 동일하기에 판별이 쉽지 않지만, <span style="color:rgb(255, 207, 61)">앞/뒤</span> 를 판별하는 경우내적 값의 <span style="color:rgb(255, 207, 61)">부호</span>만으로 쉽게 판별이 가능하다.

하여, 부호를 통해 특정조건<span style="color:rgb(125, 125, 125)">(임계값 = 오차범위)</span>을 만족하면 특정 기능을 실행하도록 구현할 수 있다.

이처럼 앞/뒤 구분만을 필요로 할때에는 크기는 영향을 미치지 않으므로 <span style="color:rgb(255, 207, 61)">단위벡</span>터로 변환한 뒤 내적을 계산한다.

##### 예시
> **1. 플레이어가 특정 물체를 보고 있는지 판정(시야 각도)**
> - `플레이어 시야 벡터`와 `(플레이어 위치 - 물체 위치) 벡터`의 내적을 구한다.
>- 내적 값이 `1`이거나 `0.7 이상`이라면<span style="color:rgb(125, 125, 125)">(임계값)</span> 플레이어가 특정 물체를 보고 있다고 판단 
>
>**2. 공격 명중 여부**
>- `공격 방향과 공격 세기`를 이용해 벡터를 구한다.
>- `(플레이어 위치 - 몬스터 위치) 벡터`를 구한다.
>- 두 벡터의 내적을 구한다.
>- 내적 값이 `0.8 이상` 이라면<span style="color:rgb(125, 125, 125)">(임계값)</span> 공격이 명중했다고 판단

<br>

#### <mark style="background: #D2B3FFA6;">2. 수직 판정</mark>
좌/우 구분 필요 없이<span style="color:rgb(255, 207, 61)">수직</span>인지 <span style="color:rgb(255, 207, 61)">확인</span>만 필요하다면 내적값이 0에 근사한가 아닌가(완전히 0이 되기는 어려움으로 임계값 이용)로 쉽게 판단할 수 있다.

#### <mark style="background: #D2B3FFA6;">3. 그 외 내적의 응용</mark>
앞/뒤, 수직 판정에서는 단위 벡터를 사용해 크기는 무시하고 부호만 사용했지만, 내적의 크기가 포함된 값도 사용될 수 있다. <span style="color:rgb(125, 125, 125)">(단위 벡터로 변환하지 않은 내적 값)</span>

이러한 값은 특정 기능을 구현하는 <span style="color:rgb(255, 207, 61)">식의 일부분</span>으로 사용된다.

##### 예시
>**1. 물체나 빛의 반사**
>- 물체가 충돌했을 때 튕겨나가는 정도나 밀려나는 힘의 크기 계산에 사용
>- [[빛의 반사|반사 벡터 공식]]에 사용
>
>**2. 물체 밀기/ 끌기**
>- `물체를 미는 힘 F`와 `물체가 움직일 방향 D`를 내적하여, 물체가 밀리는 크기를 구할 수 있다. <span style="color:rgb(125, 125, 125)">(평평한 땅)</span>
>
>**3. 경사면에서의 이동**
>- 중력과 경사면이 이동 속도에 미치는 영향(감속/가속)을 계산하여 속도 변화를 줄 때 사용
>- [[경사면에서의 가속 및 감속|감속/가속 상수]]를 구할 때 사용
