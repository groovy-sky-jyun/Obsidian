### 다중 상속
하나의 파생 클래스가 두 개 이상의 클래스 멤버를 상속받는 것을 말한다.

다중 상속을 통해 여러 기능을 통합하는 클래스를 만들 수 있고, 코드 재사용성을 높일 수 있다.

#### 선언
상속받을 기본 클래스들을 각각 접근 지정자와 함께 `,`로 나열한다.
```cpp title:다중상속예시 hl:3
class MP3{ /*...*/ }; 
class MobilePhone{ /*...*/ };
class MusicPhone : public MP3, public MobilePhone{ /*...*/ };
```

#### 다중 상속의 문제점
다중 상속은 **다이아몬드 문제**를 야기할 수 있다.

다이아몬드 형의 다중 상속 구조는 기본 클래스의 멤버가 중복 상속되어 컴파일러가 어느 멤버에 접근할 지 모호해지는 문제를 나타낸다.

<span style="color:rgb(255, 82, 82)">다이아몬드 구조 사진</span> 

```cpp hl:13
class BaseIO{
public: 
	int mode;
};

class In : public BaseIO { /*...*/ };
class Out : public BaseIO { /*...*/ };

class InOut : public In, public Out { /*...*/ };

int main(){
	InOut inOut;
	inOut.mode = 5; // 컴파일 오류
}
```

위와 같은 상속 구조를 생각해 보았을 때, `InOut`클래스는 `BaseIO` 클래스를 두번 상속받게 된다. 이로 인해 `InOut` 클래스는 `BaseIO` 멤버를 두 개씩 가지게 되어, 변수 `mode`에 접근할 때 어떤 멤버에 접근해야 할 지 모호해지는 문제가 발생한다.

#### 다중 상속 해결책
**가상 상속**을 통해 다이아몬드 문제를 해결할 수 있다.

---
### 가상 상속
가상 상속은 중복 상속되는 기본 클래스가 파생 클래스에 <span style="color:rgb(255, 207, 61)">한번만 상속되도록 강제</span>한다.

파생 클래스 객체가 생성될 때 <span style="color:rgb(255, 207, 61)">가상 기본 클래스</span>의 메모리 공간을 한 번만 할당받고, 이미 할당되어 있다면 그 <span style="color:rgb(255, 207, 61)">공간을 공유</span>한다.

#### 가상 상속 선언
**virtual** 키워드를 사용하여 가상 상속을 선언할 수 있다.
```cpp
class In : virtual public BaseIO{ /*...*/ };
class Out : virtual public BaseIO{ /*...*/ };
```
이때 `BaseIO` 는 <span style="color:rgb(255, 207, 61)">가상 기본 클래스</span>라고 한다.

#### 생성자 호출 순서
다중 상속에서의 생성자는 왼쪽부터 오른쪽 순으로 호출된다. 

허나 가상 기본 클래스가 있다면 작성 순서와 상관없이 해당 클래스의 생성자가 가장 먼저 호출된다. 
```cpp
class MusicPhone : public MP3, virtual public MobilePhone, { /*...*/ };
```
1. `MobilePhone` 클래스 생성자 호출
2. `MP3` 클래스 생성자 호출
3. `MusicPhone` 클래스 생성자 호출