
### 문제상황
플레이 해보았을 때 너무 많은 벽들이 허물어져있는것을 확인할 수 있었다.
상하좌우 벽이 전부 허물어진 벽도 있었고 3개 이상의 벽이 허물어진 큐브도 많이 보였다. 
Pop이 많이 되는 만큼 벽이 너무 많이 허물어졌다.
또한 갈림길이 생기기 보다는 아래의 사진처럼 일정하 모양의 벽들이 생긴것을 확인할 수 있었다. 
![[스크린샷 2024-10-21 192550.png]]

![[스크린샷 2024-10-21 192637.png]]

### 해결 방안
그래서 ver.1 미로를 다시 분석해 보았을 때 <span style="color:rgb(0, 176, 240)">일직선</span>으로 되어있는 길이 꽤 많은것을 확인할 수 있었다. (<span style="color:rgb(0, 176, 240)">이때 일직선은 같은 방향의 벽이 4개 이상 이어진 부분들을 뜻한다</span>.)

이 일직선 벽들을 중간에 길 하나씩만 뚫어줘도 여러 구역으로 갈 수 있는 길이 되고, 원치 않는 만큼 벽이 많이 허물어지는 일도 없을거 같다고 생각하였다.

![[분석.png]]

미로를 만들 때 같은 방향의 벽이 4개 이상 이어지는지 확인하고 이어진다면 벽하나를 허무는 과정을 ver.1에서 추가해 주었다.

1. 주변 방문하지 않은 큐브가 하나라도 있다면
	1. List 에서 랜덤으로 한개 큐브 뽑음
	2. 랜덤 큐브와 현재 큐브 사이의 벽 제거
	3. <span style="color:rgb(0, 176, 240)">4개 이상 연속되어있는 벽이 있다면 랜덤 한개 뚫음</span>
     
2. 주변 방문하지 않은 큐브가 하나라도 없다면
	1. Stack 에서 Pop 한다.
	2. Stack 의 Top 큐브 주변에 방문하지 않은 큐브가 있는지 확인한다.
	3. 1 로 돌아간다.

<br>

#### 주의할 점
4개 이상 연속되어있는 벽 중 하나를 허물 때 주의할 점이 있다. 예로
1) 현재 큐브 위치에서 Front 벽이 4개 연속된 것이 확인되면 
2) 4개의 큐브 중 랜덤으로 하나를 선택하기 위해 0~3 사이의 랜덤값을 구하고 
3) <span style="color:rgb(0, 176, 240)">현재 큐브의 인덱스 값에서 랜덤값을 빼거나 더해야한다.
</span>

이때 벽을 탐색하는 방향이 오른쪽이라면 랜덤값 만큼 현재 인덱스에서 빼주어야 하고, 탐색 방향이 왼쪽이라면 랜덤값 만큼 현재 인덱스에서 더해주어야 한다.

이는 연속으로 이어지는 벽이 Front, Bottom, Right, Left에 따라 다 다르게 적용되기 때문에 이를 생각해서 구현해주어야 한다.
